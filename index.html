<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>Michael Kelly</title>
    <meta name="description" content="">
    <meta name="author" content="Michael Kelly">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <!-- Le HTML5 shim, for IE6-8 support of HTML elements -->
    <!--[if lt IE 9]>
    <script src="./theme/html5.js"></script>
    <![endif]-->

    <!-- Le styles -->
    <link href="./theme/bootstrap.min.css" rel="stylesheet">
    <link href="./theme/bootstrap.min.responsive.css" rel="stylesheet">
    <link href="./theme/local.css" rel="stylesheet">
    <link href="./theme/pygments.css" rel="stylesheet">

</head>

<body>

<div class="navbar">
    <div class="navbar-inner">
    <div class="container">

         <a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
             <span class="icon-bar"></span>
             <span class="icon-bar"></span>
             <span class="icon-bar"></span>
         </a>

        <a class="brand" href=".">Michael Kelly</a>

        <div class="nav-collapse">
        <ul class="nav">

            <li><a href="./pages/about.html">About Me</a></li>
        </ul>
        </div>

    </div>
    </div>
</div>

<div class="container">
    <div class="content">
    <div class="row">

        <div class="span9">
        

        


    <div class='article'>
        <div class="content-title">
            <a href="./what-is-a-snippet.html"><h1>What is an about:home snippet?</h1></a>
Mon 30 June 2014

by <a class="url fn" href="./author/michael-kelly.html">Michael Kelly</a>
 


 
        </div>
        
        <div><p>I was reading Adam Lofting's post, <a href="http://adamlofting.com/1139/the-power-of-webmaker-landing-pages/"><em>The Power of Webmaker Landing Pages</em></a>, and it referred to something called "The Snippet", and linked to a post on fundraising.mozilla.org called <a href="https://fundraising.mozilla.org/what-is-the-snippet/"><em>What is the "snippet"?</em></a>.</p>
<p>The page the fundraising blog refers to is actually called <a href="about:home">about:home</a>; the icon and bit of text below the search bar is the "snippet". Every time you view about:home, a snippet is randomly chosen from a set of snippets and shown. Once every 24 hours, the set of snippets you might see is updated. Snippets can execute JavaScript code, which allows things like snippets that replace the Firefox logo or snippets that show videos.</p>
<p>To understand how about:home snippets really work, you have to understand the two main players: Firefox and the Snippets Service.</p>
<h2>Firefox Fetches Snippet Code</h2>
<p>From Firefox's perspective, snippets are just one big chunk of HTML, CSS, and JavaScript that it injects into about:home when you view it. It fetches this code from the <a href="https://wiki.mozilla.org/Websites/Snippets">Snippets Service</a>, a web service running at <a href="https://snippets.mozilla.com">https://snippets.mozilla.com</a>.</p>
<p>Whenever you view about:home, Firefox checks to see if it has fetched snippet code within the last 24 hours. If it has, it loads the snippet code. If it hasn't, it makes a request and fetches the snippet code, and saves it. The URL used for this request is long and contains several pieces of info useful for deciding which snippets to send you. On one of my test copies of Firefox 30, about:home fetches snippets with this URL:</p>
<p><a href="https://snippets.mozilla.com/4/Firefox/30.0/20140605174243/Darwin_Universal-gcc3/en-US/release/Darwin%2013.2.0/default/default/">https://snippets.mozilla.com/4/Firefox/30.0/20140605174243/Darwin_Universal-gcc3/en-US/release/Darwin%2013.2.0/default/default/</a></p>
<p>The most useful parts of the URL are the version (30.0), the locale (en-US), and the release channel (release). These let us do things like localize snippets for different locales or create snippets that promote new features to the release channels that already have them.</p>
<p>Once it has the snippet code, Firefox injects it into about:home. After that, Firefox is done; it has no idea that the snippet code may contain multiple snippets or that only one should be displayed. Instead, the snippet code that is injected contains its own logic for choosing a snippet to display.</p>
<h2>Snippets Show Themselves</h2>
<p>The Snippets Service stores a large set of snippets and chooses which ones to send to you based on the URL shown above. For example, a snippet that is in French will be configured to be shown only to users with "fr" as their locale.</p>
<p>Along with the snippets themselves, the snippet code sent by the service contains JavaScript code that randomly chooses one of the included snippets and displays it. This code also performs a few other important functions, such as measuring impressions on snippets so that we can measure the conversion rate.</p>
<p>Because snippets can contain JavaScript, they aren't limited to showing an icon and text. In the past, we've run snippets that have:</p>
<ul>
<li>Swapped out the Firefox logo with another image</li>
<li>Loaded a video player within the homepage</li>
<li><a href="https://blog.mozilla.org/blog/2014/01/18/remembering-sopapipa/">Blacked out the entire homepage in protest</a></li>
</ul>
<h2>You Can Too!</h2>
<p>An about:home snippet is a powerful way of reaching a huge number of people. If you're interested in running a snippet to spread the word about something, file a bug under the <a href="https://bugzilla.mozilla.org/enter_bug.cgi?product=Snippets&amp;component=Campaign">Snippets :: Campaign Bugzilla component</a>. The snippets content team will review your request and determine if your snippet should be accepted.</p>
<p>Have any more questions about how snippets work? Let me know, I'm happy to answer them!</p></div>
        <hr />
    </div>
		

 
        

 

    <div class='article'>
        <a href="./affiliates-mailing-list.html"><h2>Affiliates Mailing List PLS EMAIL US</h2></a>
        <div class= "well small"> Tue 15 April 2014

by <a class="url fn" href="./author/michael-kelly.html">Michael Kelly</a>
 


 </div>
        <div class="summary"><p>affiliates@lists.mozilla.org is up and moderated again and ready for use.</p> <a class="btn btn-info xsmall" href="./affiliates-mailing-list.html">read more</a></div>
    </div>	
				

 
        

 

    <div class='article'>
        <a href="./hello-world.html"><h2>Hello World!</h2></a>
        <div class= "well small"> Tue 15 April 2014

by <a class="url fn" href="./author/michael-kelly.html">Michael Kelly</a>
 


 </div>
        <div class="summary"><p>Testing out if Pelican works.</p> <a class="btn btn-info xsmall" href="./hello-world.html">read more</a></div>
    </div>	
				
<div class="pagination">
<ul>
    <li class="prev disabled"><a href="#">&larr; Previous</a></li>

    <li class="active"><a href="./index.html">1</a></li>

    <li class="next disabled"><a href="#">&rarr; Next</a></li>

</ul>
</div>
 
  
        </div>

        <div class="span3">

            <div class="well" style="padding: 8px 0; background-color: #FBFBFB;">
            <ul class="nav nav-list">
                <li class="nav-header">
                Site
                </li>

                <li><a href="./">Archives</a>
                <!--<li><a href="./tags.html">Tags</a>
                <li><a href="http://www.mkelly.me/" rel="alternate">Atom feed</a></li>
-->
            </ul>
            </div>


            <div class="well" style="padding: 8px 0; background-color: #FBFBFB;">
            <ul class="nav nav-list">
                <li class="nav-header">
                Categories
                </li>

                <li><a href="./category/mozilla.html">mozilla</a></li>
                <li><a href="./category/test.html">test</a></li>
            </ul>
            </div>




            <div class="social">
            <div class="well" style="padding: 8px 0; background-color: #FBFBFB;">
            <ul class="nav nav-list">
                <li class="nav-header">
                Social
                </li>

                <li><a href="https://twitter.com/Osmose">Twitter</a></li>
                <li><a href="https://github.com/Osmose/">Github</a></li>
            </ul>
            </div>
            </div>

        </div>     </div>     </div> 
<footer>
<br />
<p><a href=".">Michael Kelly</a> &copy; Michael Kelly 2012</p>
</footer>

</div> <!-- /container -->
<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js"></script>
<script src="http://twitter.github.com/bootstrap/assets/js/bootstrap-collapse.js"></script>
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-48282608-2', 'mkelly.me');
  ga('send', 'pageview');

</script>
</body>
</html>